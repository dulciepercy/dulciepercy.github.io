<!DOCTYPE html>
<html>
<head>

<link rel="stylesheet" href="./css/stylestuff.css">

</head>

<body>
	<script src="./js/ui.js"></script>
  <script src="./js/audioProcess.js"></script>
<h2>You can parlez francais!</h2>
<section>
<nav>
<h2>Selections from <i>A la paix, à la vie ! </i> de Joan OTT </h2>  
<table id="tableOfFiles">
    <tr><td>ZOOM0016_01.mp3</td><td>Te voila!</td></tr>
    <tr><td>ZOOM0016_02.mp3</td><td>Enfin</td></tr>
    <tr><td>ZOOM0016_03.mp3</td><td>Tu en a mis du temps. </td></tr>
    <tr><td>ZOOM0016_04.mp3</td><td>Pierre?</td></tr>
    <tr><td>ZOOM0016_05.mp3</td><td>C’est toi ? Évidemment ! </td></tr>
    <tr><td>ZOOM0016_06.mp3</td><td>Qui voudrais-tu ?</td></tr>
    <tr><td>ZOOM0016_07.mp3</td><td>Alors, c’est vrai… </td></tr>
    <tr><td>ZOOM0016_08.mp3</td><td>Ce qu’on nous racontait</td></tr>
    <tr><td>ZOOM0016_09.mp3</td><td>quand on était enfants, </td></tr>
    <tr><td>ZOOM0016_10.mp3</td><td>c’était vrai…</td></tr>
    <tr><td>ZOOM0016_11.mp3</td><td>Presque…, C’est donc ici…</td></tr>
    <tr><td>ZOOM0016_12.mp3</td><td>ici</td></tr>
    <tr><td>ZOOM0016_13.mp3</td><td>c’est seulement</td></tr>
    <tr><td>ZOOM0016_14.mp3</td><td> l’antichambre.  </td></tr>
    <tr><td>ZOOM0016_15.mp3</td><td>On a le droit</td></tr>
    <tr><td>ZOOM0016_16.mp3</td><td>de voir encore</td></tr>
    <tr><td>ZOOM0016_17.mp3</td><td>un peu</td></tr>
    <tr><td>ZOOM0016_18.mp3</td><td>ce qui se passe en bas</td></tr>
    <tr><td>ZOOM0016_19.mp3</td><td>Oui, tu comprendras vite pourquoi etc...</td></tr>
    <tr><td>ZOOM0016_20.mp3</td><td>Leonie.</td></tr>
    <tr><td>ZOOM0016_21.mp3</td><td>Son heure</td></tr>
    <tr><td>ZOOM0016_22.mp3</td><td>était venue, et elle</td></tr>
    <tr><td>ZOOM0016_23.mp3</td><td>a eu une belle vie.</td></tr>
    <tr><td>ZOOM0016_24.mp3</td><td>une belle vie.</td></tr>
    <tr><td>ZOOM0016_25.mp3</td><td>Si j'avais su</td></tr>
    <tr><td>ZOOM0016_26.mp3</td><td>qu’on ne serait</td></tr>
    <tr><td>ZOOM0016_27.mp3</td><td>que trois</td></tr>
    <tr><td>ZOOM0016_28.mp3</td><td>On aurait fait</td></tr>
    <tr><td>ZOOM0016_29.mp3</td><td>ça chez moi</td></tr>
    <tr><td>ZOOM0016_30.mp3</td><td>Ce bistrot, vraiment</td></tr>
    <tr><td>ZOOM0016_31.mp3</td><td>c’est idiot</td></tr>
    <tr><td>ZOOM0016_32.mp3</td><td>C’était à prévoir, Mickie… </td></tr>
    <tr><td>ZOOM0016_33.mp3</td><td>À quatre-vingt-dix ans, </td></tr>
    <tr><td>ZOOM0016_34.mp3</td><td>on n’a plus beaucoup d’amis…</td></tr>
    <tr><td>ZOOM0016_35.mp3</td><td>Elle en avait plein</td></tr>
    <tr><td>ZOOM0016_36.mp3</td><td>des amis, </td></tr>
    <tr><td>ZOOM0016_37.mp3</td><td>ma Tatie. Plein</td></tr>
    <tr><td>ZOOM0016_38.mp3</td><td>tout le monde</td></tr>
    <tr><td>ZOOM0016_39.mp3</td><td> l’aimait. Oui.</td></tr>
    <tr><td>ZOOM0016_40.mp3</td><td>Oui, mais à cette heure, ils sont </td></tr>
    <tr><td>ZOOM0016_41.mp3</td><td>tous morts, ses amis.</td></tr>


<td></td>
<!--  The following line has to stay in - for some reason it needs this audio control to work-->
<td><audio  style="width: 200px;"> <source src="audio/francais/ott_01.mp3" type="audio/mpeg">Audio tag is not supported in this browser.</audio></td>
</tr>
</table>
</nav>

<article>
<table>
  <tr>
    <td> <button  id="btnStart">Start Recording</button> </td>
    <td> <button  id="btnStop" >Stop Recording</button></td>
  </tr>
  <tr>
    <td> <button id="btnResponse">Play Your Response</button> </td>
    <td> <button id="btnBoth" >Play Response and Original</button>
       
     </td>
  </tr>
  <tr>
<td colspan="2"> 
<h2>Instructions</h2>
<ul>
<li>Pick a file from the list at the left</li>
<li>Click on it to hear it.</li>
<li>Record yourself saying the same thing by</li>
  <ul>
      <li>Click on the green button and speak</li>
      <li>Click on the red button when you've finished</li>
  </ul>
  <li>Listen back by clicking the blueish buttons</li>
  <li><i>Are you using an Android Phone?</i>
    <i>To get it to work you have to do this:</i></li>
  <li><ul>
    <li>Change a site's camera & microphone permissions</li>
    <li>On your Android device, open the Chrome app .</li>
    <li>To the right of the address bar, tap More. Settings.</li>
    <li>Tap Site Settings.</li>
    <li>Tap Microphone or Camera.</li>
    <li>Tap to turn the microphone or camera on or off.</li>
    </ul>
</li>
</ul>
</td>
  </tr>
</tr>
<tr><td>You are listening to: </td>
    <td id="fNameDisplay">
        <script>fName.innerHTML</script>
    </td>
</tr>
<tr>
  <td>
      <a href="./index.html"><h3>Go back to the Index</h3></a>
  </td>
</tr>
<tr>



</tr>
</table>
  
</article>
</section>
<audio id="selectedTrack" ></audio>
<audio id="adioPlay"  ></audio> 
   

<script language="javascript">
  var tbl = document.getElementById("tableOfFiles");
  var fDir = "audio/francais/"
  var fName="";
  if (tbl != null) {
      for (var i = 0; i < tbl.rows.length; i++) {
          for (var j = 0; j < tbl.rows[i].cells.length; j++)
              tbl.rows[i].cells[j].onclick = function () { getval(this); };
      }
  }
  function getval(cel) {
     //alert(cel.innerHTML);
      var t=cel.innerHTML;
      fName = fDir+t
     //alert(fName);
      let selectedAudio=document.getElementById("selectedTrack")
      selectedAudio.src=fName;
      selectedAudio.play();
      document.getElementById("fNameDisplay").innerHTML = t;
  }

 document.getElementById("btnBoth").addEventListener("click",function(){
        let response = document.getElementById("adioPlay")
           response.play();
           response.addEventListener('ended',function(){
          let selectedAudio=document.getElementById("selectedTrack")
          selectedAudio.src=fName;
          selectedAudio.play();
    });
       
  }
  );

  document.getElementById("btnResponse").addEventListener("click",function(){
       document.getElementById("adioPlay").play();
     }
     );

</script>

 </body>
</html>
</body>
</html>
